<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>xthread Reply Assistant</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
        </svg>
        <span>xthread</span>
      </div>
      <span class="version">v1.0.0</span>
    </div>

    <!-- Not authenticated view -->
    <div id="auth-view" class="view">
      <div class="auth-prompt">
        <h2>Reply Assistant</h2>
        <p>Craft killer replies and grow your X following with AI.</p>
        
        <div class="features">
          <div class="feature">
            <span class="feature-icon">âœ¨</span>
            <span>AI-powered reply suggestions</span>
          </div>
          <div class="feature">
            <span class="feature-icon">ðŸŽ¯</span>
            <span>Match your unique voice</span>
          </div>
          <div class="feature">
            <span class="feature-icon">âš¡</span>
            <span>One-click insert</span>
          </div>
        </div>
        
        <button id="sign-in-btn" class="primary-btn">
          Sign in with xthread
        </button>
        
        <p class="note">Premium feature â€¢ <a href="https://xthread.io/pricing" target="_blank">Upgrade</a></p>
      </div>
    </div>

    <!-- Authenticated view -->
    <div id="main-view" class="view hidden">
      <div class="user-info">
        <div class="user-avatar" id="user-avatar">?</div>
        <div class="user-details">
          <div class="user-name" id="user-name">Loading...</div>
          <div class="user-plan" id="user-plan">Free</div>
        </div>
        <button id="sign-out-btn" class="icon-btn" title="Sign out">
          <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
            <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
          </svg>
        </button>
      </div>
      
      <!-- Premium status -->
      <div id="premium-status" class="status-card premium">
        <span class="status-icon">ðŸ‘‘</span>
        <div class="status-text">
          <strong>Premium Active</strong>
          <span>Reply Assistant enabled</span>
        </div>
      </div>
      
      <!-- Free status -->
      <div id="free-status" class="status-card free hidden">
        <span class="status-icon">ðŸ”’</span>
        <div class="status-text">
          <strong>Premium Required</strong>
          <span>Upgrade to use Reply Assistant</span>
        </div>
        <a href="https://xthread.io/pricing" target="_blank" class="upgrade-link">Upgrade â†’</a>
      </div>
      
      <!-- Stats -->
      <div class="stats" id="stats-section">
        <div class="stat">
          <div class="stat-value" id="replies-today">0</div>
          <div class="stat-label">Replies today</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="replies-total">0</div>
          <div class="stat-label">Total replies</div>
        </div>
      </div>
      
      <!-- Instructions -->
      <div class="instructions">
        <h3>How to use</h3>
        <ol>
          <li>Browse X normally</li>
          <li>Click the purple <strong>Reply</strong> button on any post</li>
          <li>Choose from AI-generated reply options</li>
          <li>Click "Use this" to insert into reply box</li>
        </ol>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <a href="https://xthread.io" target="_blank">xthread.io</a>
      <span>â€¢</span>
      <a href="https://xthread.io/help" target="_blank">Help</a>
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>
