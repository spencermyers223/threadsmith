<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>xthread</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <div class="panel-container">
    <!-- Header -->
    <div class="panel-header">
      <div class="panel-brand">
        <span class="panel-title">xthread</span>
      </div>
    </div>
    
    <!-- User Info -->
    <div class="user-section" id="user-section">
      <div class="user-info">
        <div class="user-avatar" id="user-avatar">?</div>
        <div class="user-details">
          <div class="user-email" id="user-email">Not signed in</div>
          <div class="user-plan" id="user-plan">-</div>
        </div>
        <button id="sign-out-btn" class="icon-btn" title="Sign out">
          <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
            <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Auth Section (shown when not logged in) -->
    <div class="auth-section hidden" id="auth-section">
      <p class="auth-prompt">Sign in to use xthread Reply Coach</p>
      <button id="sign-in-btn" class="primary-btn">Sign in with xthread</button>
    </div>
    
    <!-- Tabs -->
    <div class="panel-tabs">
      <button class="panel-tab active" data-tab="coach">
        <span class="tab-icon">ğŸ¯</span>
        <span class="tab-label">Coach</span>
      </button>
      <button class="panel-tab" data-tab="feed">
        <span class="tab-icon">ğŸ””</span>
        <span class="tab-label">Feed</span>
      </button>
      <button class="panel-tab" data-tab="stats">
        <span class="tab-icon">ğŸ“ˆ</span>
        <span class="tab-label">Stats</span>
      </button>
      <button class="panel-tab" data-tab="watch">
        <span class="tab-icon">ğŸ‘</span>
        <span class="tab-label">Watch</span>
      </button>
      <button class="panel-tab" data-tab="saved">
        <span class="tab-icon">ğŸ“Œ</span>
        <span class="tab-label">Saved</span>
      </button>
      <button class="panel-tab" data-tab="queue">
        <span class="tab-icon">ğŸ“…</span>
        <span class="tab-label">Queue</span>
      </button>
    </div>
    
    <!-- Tab Content -->
    <div class="panel-content">
      <!-- Coach Tab -->
      <div class="tab-content active" id="tab-coach">
        <div class="empty-state">
          <div class="empty-icon">âœ¨</div>
          <div class="empty-title">Ready to Coach</div>
          <div class="empty-desc">Click the <strong>Coach</strong> button on any tweet to get personalized reply coaching.</div>
        </div>
        <div class="coach-content hidden" id="coach-content">
          <!-- Filled dynamically -->
        </div>
      </div>
      
      <!-- Feed Tab -->
      <div class="tab-content" id="tab-feed">
        <div class="tab-header">
          <span class="tab-subtitle">Posts from your watchlist</span>
        </div>
        <div class="feed-list" id="feed-list">
          <!-- Filled dynamically -->
        </div>
        <div class="empty-state" id="feed-empty">
          <div class="empty-icon">ğŸ””</div>
          <div class="empty-title">No posts yet</div>
          <div class="empty-desc">
            <strong>How to use:</strong><br>
            1. Visit any profile and click <strong>Watch</strong><br>
            2. Scroll your home feed<br>
            3. Posts from watched accounts appear here!
          </div>
        </div>
      </div>
      
      <!-- Stats Tab -->
      <div class="tab-content" id="tab-stats">
        <div class="stats-overview">
          <div class="stat-card">
            <div class="stat-value" id="total-replies">0</div>
            <div class="stat-label">Replies</div>
          </div>
          <div class="stat-card highlight">
            <div class="stat-value" id="conversion-rate">0%</div>
            <div class="stat-label">Conversion</div>
          </div>
        </div>
        <div class="tab-header">
          <span class="tab-subtitle">Reply History</span>
          <button class="text-btn" id="clear-replies-btn">Clear</button>
        </div>
        <div class="reply-list" id="reply-list">
          <!-- Filled dynamically -->
        </div>
        <div class="empty-state" id="stats-empty">
          <div class="empty-icon">ğŸ“ˆ</div>
          <div class="empty-title">No replies tracked</div>
          <div class="empty-desc">
            <strong>How it works:</strong><br>
            When you post replies on X, they're tracked automatically.<br>
            We'll show your conversion rate (who follows back!).
          </div>
        </div>
      </div>
      
      <!-- Watch Tab -->
      <div class="tab-content" id="tab-watch">
        <div class="tab-header">
          <span class="tab-subtitle" id="watch-count">0 accounts</span>
        </div>
        <div class="watch-list" id="watch-list">
          <!-- Filled dynamically -->
        </div>
        <div class="empty-state" id="watch-empty">
          <div class="empty-icon">ğŸ‘</div>
          <div class="empty-title">No accounts yet</div>
          <div class="empty-desc">
            Visit any X profile and click the <strong>ğŸ‘ Watch</strong> button.<br>
            Their posts will show up in your Feed tab!
          </div>
        </div>
      </div>
      
      <!-- Saved Tab -->
      <div class="tab-content" id="tab-saved">
        <div class="tab-header">
          <span class="tab-subtitle" id="saved-count">0 posts</span>
          <button class="text-btn" id="clear-saved-btn">Clear</button>
        </div>
        <div class="saved-list" id="saved-list">
          <!-- Filled dynamically -->
        </div>
        <div class="empty-state" id="saved-empty">
          <div class="empty-icon">ğŸ“Œ</div>
          <div class="empty-title">No saved posts</div>
          <div class="empty-desc">
            Click the <strong>ğŸ“Œ</strong> bookmark icon on any tweet to save it here.<br>
            Great for inspiration and reference!
          </div>
        </div>
      </div>
      
      <!-- Queue Tab (Scheduled Posts from xthread) -->
      <div class="tab-content" id="tab-queue">
        <div class="tab-header">
          <span class="tab-subtitle" id="queue-count">Upcoming posts</span>
          <button class="text-btn" id="refresh-queue-btn">Refresh</button>
        </div>
        <div class="queue-list" id="queue-list">
          <!-- Filled dynamically -->
        </div>
        <div class="empty-state" id="queue-empty">
          <div class="empty-icon">ğŸ“…</div>
          <div class="empty-title">No scheduled posts</div>
          <div class="empty-desc">Schedule posts at <a href="https://xthread.io/calendar" target="_blank">xthread.io</a> to see them here.</div>
        </div>
        <div class="queue-loading hidden" id="queue-loading">
          <div class="spinner"></div>
          <span>Loading...</span>
        </div>
      </div>
    </div>
    
    <!-- Footer -->
    <div class="panel-footer">
      <a href="https://xthread.io" target="_blank">xthread.io</a>
      <span>â€¢</span>
      <a href="https://xthread.io/help" target="_blank">Help</a>
    </div>
  </div>
  
  <script src="sidepanel.js"></script>
</body>
</html>
