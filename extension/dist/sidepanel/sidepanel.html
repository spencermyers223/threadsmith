<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>xthread</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <div class="panel-container">
    <!-- Header -->
    <div class="panel-header">
      <div class="panel-brand">
        <span class="panel-title">xthread</span>
      </div>
    </div>
    
    <!-- User Info -->
    <div class="user-section" id="user-section">
      <div class="user-info">
        <div class="user-avatar" id="user-avatar">?</div>
        <div class="user-details">
          <div class="user-email" id="user-email">Not signed in</div>
          <div class="user-plan" id="user-plan">-</div>
        </div>
        <div class="user-credits" id="user-credits" title="Credits remaining">
          <span class="credits-icon">âš¡</span>
          <span class="credits-count" id="credits-count">-</span>
        </div>
        <button id="sign-out-btn" class="icon-btn" title="Sign out">
          <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
            <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Auth Section (shown when not logged in) -->
    <div class="auth-section hidden" id="auth-section">
      <p class="auth-prompt">Sign in to use xthread Reply Coach</p>
      <button id="sign-in-btn" class="primary-btn">Sign in with xthread</button>
    </div>
    
    <!-- Tabs (5 total: Coach, Queue, Stats, Messages, Saved) -->
    <div class="panel-tabs">
      <button class="panel-tab active" data-tab="coach">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <circle cx="12" cy="12" r="6"/>
          <circle cx="12" cy="12" r="2"/>
        </svg>
        <span class="tab-label">COACH</span>
      </button>
      <button class="panel-tab" data-tab="queue">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        <span class="tab-label">QUEUE</span>
      </button>
      <button class="panel-tab" data-tab="stats">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="20" x2="18" y2="10"/>
          <line x1="12" y1="20" x2="12" y2="4"/>
          <line x1="6" y1="20" x2="6" y2="14"/>
        </svg>
        <span class="tab-label">STATS</span>
      </button>
      <button class="panel-tab" data-tab="messages">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
        </svg>
        <span class="tab-label">MESSAGES</span>
      </button>
      <button class="panel-tab" data-tab="saved">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
        </svg>
        <span class="tab-label">SAVED</span>
      </button>
    </div>
    
    <!-- Tab Content -->
    <div class="panel-content">
      <!-- Coach Tab -->
      <div class="tab-content active" id="tab-coach">
        <div class="empty-state">
          <div class="empty-icon">âœ¨</div>
          <div class="empty-title">Ready to Coach</div>
          <div class="empty-desc">Click the <strong>Coach</strong> button on any tweet to get personalized reply coaching.</div>
          <div class="credit-cost-info">âš¡ 1 credit per coaching</div>
        </div>
        <div class="coach-content hidden" id="coach-content">
          <!-- Filled dynamically -->
        </div>
      </div>
      
      <!-- Stats Tab (Live top tweets for current profile) -->
      <div class="tab-content" id="tab-stats">
        <div class="stats-profile-view" id="stats-profile-view">
          <div class="stats-header" id="stats-header">
            <!-- Profile info filled dynamically -->
          </div>
          <div class="stats-loading hidden" id="stats-loading">
            <div class="spinner"></div>
            <span>Fetching top tweets...</span>
          </div>
          <div class="stats-tweets" id="stats-tweets">
            <!-- Top tweets filled dynamically -->
          </div>
        </div>
        <div class="empty-state" id="stats-empty">
          <div class="empty-icon">ðŸ“Š</div>
          <div class="empty-title">Profile Stats</div>
          <div class="empty-desc">
            Visit any X profile and click the <strong>ðŸ“Š Stats</strong> button to see their top 10 performing tweets.
          </div>
        </div>
      </div>
      
      <!-- Messages Tab (DM Templates) -->
      <div class="tab-content" id="tab-messages">
        <div class="tab-header">
          <span class="tab-subtitle">DM Templates</span>
          <button class="text-btn" id="refresh-messages-btn">Refresh</button>
        </div>
        <div class="messages-list" id="messages-list">
          <!-- Filled dynamically with DM templates -->
        </div>
        <div class="empty-state" id="messages-empty">
          <div class="empty-icon">ðŸ’¬</div>
          <div class="empty-title">No DM templates</div>
          <div class="empty-desc">
            Create DM templates at <a href="https://xthread.io/templates" target="_blank">xthread.io/templates</a> to use them here for quick outreach.
          </div>
        </div>
      </div>
      
      <!-- Saved Tab -->
      <div class="tab-content" id="tab-saved">
        <div class="tab-header">
          <div class="saved-toggle">
            <button class="toggle-btn active" data-section="posts">Posts</button>
            <button class="toggle-btn" data-section="voice">Voice</button>
          </div>
          <button class="text-btn" id="clear-saved-btn">Clear</button>
        </div>
        
        <!-- Posts Section -->
        <div class="saved-section active" id="saved-posts-section">
          <div class="saved-list" id="saved-list">
            <!-- Filled dynamically -->
          </div>
          <div class="empty-state" id="saved-empty">
            <div class="empty-icon">ðŸ“Œ</div>
            <div class="empty-title">No saved posts</div>
            <div class="empty-desc">
              Click the <strong>ðŸ“Œ</strong> bookmark icon on any tweet to save it here.<br>
              Great for inspiration and reference!
            </div>
          </div>
        </div>
        
        <!-- Voice Section -->
        <div class="saved-section" id="saved-voice-section">
          <div class="voice-list" id="voice-list">
            <!-- Filled dynamically with saved voice accounts -->
          </div>
          <div class="empty-state" id="voice-empty">
            <div class="empty-icon">ðŸŽ¤</div>
            <div class="empty-title">No voice accounts</div>
            <div class="empty-desc">
              Visit any X profile and click the <strong>ðŸŽ¤ Voice</strong> button to save their style for content generation.
            </div>
          </div>
        </div>
      </div>
      
      <!-- Queue Tab (Scheduled Posts from xthread) -->
      <div class="tab-content" id="tab-queue">
        <div class="tab-header">
          <span class="tab-subtitle" id="queue-count">Upcoming posts</span>
          <button class="text-btn" id="refresh-queue-btn">Refresh</button>
        </div>
        <div class="queue-list" id="queue-list">
          <!-- Filled dynamically -->
        </div>
        <div class="empty-state" id="queue-empty">
          <div class="empty-icon">ðŸ“…</div>
          <div class="empty-title">No scheduled posts</div>
          <div class="empty-desc">Schedule posts at <a href="https://xthread.io/calendar" target="_blank">xthread.io</a> to see them here.</div>
        </div>
        <div class="queue-loading hidden" id="queue-loading">
          <div class="spinner"></div>
          <span>Loading...</span>
        </div>
      </div>
    </div>
    
    <!-- Footer -->
    <div class="panel-footer">
      <a href="https://xthread.io" target="_blank">xthread.io</a>
      <span>â€¢</span>
      <a href="https://xthread.io/help" target="_blank">Help</a>
    </div>
  </div>
  
  <script src="sidepanel.js"></script>
</body>
</html>
