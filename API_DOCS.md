# xthread API Documentation

> Auto-generated by `scripts/generate-api-docs.sh`  
> Last updated: 2026-02-02 03:01:12

## Overview

- **Total endpoints:** 61
- **Categories:** 18

Each endpoint shows:
- **Methods**: HTTP methods supported
- **Auth**: Whether authentication is required
- **Credits**: Credit cost if applicable

---

## Table of Contents

- [admired-accounts](#admired-accounts)
- [auth](#auth)
- [chat](#chat)
- [conversations](#conversations)
- [dm-templates](#dm-templates)
- [engagement](#engagement)
- [extension](#extension)
- [files](#files)
- [folders](#folders)
- [generate](#generate)
- [inspiration-tweets](#inspiration-tweets)
- [posts](#posts)
- [stripe](#stripe)
- [subscription](#subscription)
- [tags](#tags)
- [voice](#voice)
- [x](#x)
- [x-accounts](#x-accounts)

---

## admired-accounts

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/admired-accounts` | `GET` `POST` `DELETE`  | Yes | - |  CORS headers for extension requests |

## auth

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/auth/x/callback` | `GET`  | Yes | - |  * X OAuth 2.0 - Callback Handler |
| `/api/auth/x/link-session` | `GET` `POST`  | Yes | - |  * X OAuth Link Session API |
| `/api/auth/x/link` | `GET`  | No | - |  * X OAuth Link - Initiate OAuth for cross-device account li |
| `/api/auth/x/session` | `GET`  | No | - |  * X Auth Session - Sign-in endpoint |
| `/api/auth/x` | `GET`  | Yes | - |  * X OAuth 2.0 - Initiate Authorization |

## chat

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/chat/generate-content` | `POST`  | Yes | - | - |
| `/api/chat/writing-assistant` | `POST`  | Yes | - | - |
| `/api/chat` | `POST`  | Yes | - | - |

## conversations

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/conversations/{id}` | `GET` `DELETE`  | Yes | - |  GET - Fetch a single conversation |
| `/api/conversations` | `GET` `POST`  | Yes | - |  GET - Fetch all conversations for the user |

## dm-templates

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/dm-templates/{id}` | `GET` `PUT` `DELETE` `PATCH`  | Yes | - |  GET /api/dm-templates/[id] - Get a specific template |
| `/api/dm-templates` | `GET` `POST`  | Yes | - |  GET /api/dm-templates - List user's DM templates |

## engagement

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/engagement/baseline` | `GET` `POST`  | Yes | - |  * Engagement Baseline API |
| `/api/engagement/find-opportunities` | `GET`  | Yes | - |  * Find Engagement Opportunities API |
| `/api/engagement/learn` | `GET` `POST`  | Yes | - |  * Learn from User's Tweet Performance |
| `/api/engagement/personalized` | `POST`  | Yes | - |  * Personalized Engagement Score API |
| `/api/engagement/reply-suggestions` | `POST`  | Yes | - |  * AI Reply Suggestions API |
| `/api/engagement/score` | `POST`  | No | - | - |

## extension

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/extension/analyze-account` | `POST`  | Yes | - |  CORS headers for extension requests |
| `/api/extension/content-coach` | `POST`  | Yes | - |  CORS headers for extension requests |
| `/api/extension/credits` | `GET`  | Yes | 3 |  * Extension API - Get User Credits |
| `/api/extension/dm-templates` | `GET` `POST`  | Yes | - |  CORS headers for extension requests |
| `/api/extension/generate-replies` | `POST`  | Yes | 1 |  CORS headers for extension requests |
| `/api/extension/post-reply` | `POST`  | Yes | - |  * Extension API - Post Reply to X |
| `/api/extension/save-draft` | `POST`  | Yes | - |  CORS headers for extension requests |
| `/api/extension/scheduled` | `GET`  | Yes | - |  CORS headers for extension requests |
| `/api/extension/score-draft` | `POST`  | Yes | - |  CORS headers for extension requests |
| `/api/extension/user-top-tweets` | `GET`  | Yes | 3 |  * Extension API - Account Analysis |
| `/api/extension/user` | `GET`  | Yes | - |  CORS headers for extension requests |

## files

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/files/images` | `POST`  | Yes | - | - |
| `/api/files/{id}` | `DELETE` `PATCH`  | Yes | - | - |
| `/api/files` | `GET` `POST`  | Yes | - | - |

## folders

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/folders/{id}` | `DELETE` `PATCH`  | Yes | - | - |
| `/api/folders` | `GET` `POST`  | Yes | - | - |

## generate

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/generate` | `POST`  | Yes | - |  Import CT-native post type prompts |

## inspiration-tweets

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/inspiration-tweets/{id}` | `GET` `DELETE` `PATCH`  | Yes | - |  GET /api/inspiration-tweets/[id] - Get a specific inspirati |
| `/api/inspiration-tweets` | `GET` `POST`  | Yes | - |  GET /api/inspiration-tweets - List user's saved inspiration |

## posts

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/posts/{id}/media/{filename}` | `DELETE`  | Yes | - | - |
| `/api/posts/{id}/media` | `GET` `POST`  | Yes | - | - |
| `/api/posts/{id}/tags` | `GET` `POST` `DELETE`  | Yes | - | - |
| `/api/posts/{id}` | `GET` `PUT` `DELETE` `PATCH`  | Yes | - |  Helper to transform post with tags |
| `/api/posts` | `GET` `POST`  | Yes | - | - |

## stripe

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/stripe/checkout` | `POST`  | Yes | - | - |
| `/api/stripe/credits` | `POST`  | Yes | - |  * Create Stripe checkout session for credit pack purchase |
| `/api/stripe/webhook` | `POST`  | No | - | - |

## subscription

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/subscription/current` | `GET`  | Yes | - | - |
| `/api/subscription/status` | `GET`  | Yes | - | - |
| `/api/subscription/usage` | `GET`  | Yes | - |  * Get current user's usage (credits and posts) |

## tags

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/tags/{id}` | `GET` `PUT` `DELETE` `PATCH`  | Yes | - | - |
| `/api/tags` | `GET` `POST`  | Yes | - | - |

## voice

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/voice/analyze` | `POST`  | Yes | 1 | - |
| `/api/voice/auto-analyze` | `POST`  | Yes | 1 |  * Auto-analyze voice profile from user's recent X tweets. |
| `/api/voice/samples` | `GET` `POST` `DELETE`  | Yes | - | - |

## x-accounts

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/x-accounts/{id}` | `GET` `DELETE` `PATCH`  | Yes | - |  GET /api/x-accounts/[id] - Get a specific X account |
| `/api/x-accounts` | `GET` `POST`  | Yes | - |  GET /api/x-accounts - List user's X accounts |

## x

| Endpoint | Methods | Auth | Credits | Description |
|----------|---------|------|---------|-------------|
| `/api/x/analytics` | `GET`  | Yes | - |  * X API - Fetch Tweet Analytics |
| `/api/x/post` | `POST`  | Yes | - |  * X API - Post Tweet |
| `/api/x/thread` | `POST`  | Yes | - |  * X API - Post Thread |
| `/api/x/tweets` | `GET`  | Yes | - |  * X API - Fetch User's Tweets |
| `/api/x/user-tweets` | `GET`  | Yes | - |  * X API - Fetch Tweets from Any User by Username |

---

## Credit Costs Reference

| Action | Credits | Cost Basis |
|--------|---------|------------|
| Account Analysis | 3 | ~$0.17 (30 tweets + Opus) |
| Reply Coaching | 1 | ~$0.02 (Sonnet) |
| Voice Add/Refresh | 1 | ~$0.05 (X API + Sonnet) |

## Authentication

Most endpoints require a Bearer token:
```
Authorization: Bearer <supabase_access_token>
```

Extension endpoints include CORS headers for cross-origin requests.

## Pricing Tiers

| Tier | Posts/mo | Credits/mo | Price |
|------|----------|------------|-------|
| Free | 10 | 5 | $0 |
| Premium | 300 | 50 | $20 |
| Pro | Unlimited | 100 | $40 |

---

*Generated by [generate-api-docs.sh](../../../clawd/scripts/generate-api-docs.sh)*
